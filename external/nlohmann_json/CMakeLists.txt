include(FetchContent)

set(NLOHMANN_JSON_PROJECT "nlohmann_json")
set(NLOHMANN_JSON_DIR ${CMAKE_CURRENT_SOURCE_DIR})
set(NLOHMANN_JSON_DOWNLOAD_DIR ${NLOHMANN_JSON_DIR}/download)
set(NLOHMANN_JSON_SOURCE_DIR ${NLOHMANN_JSON_DIR}/src)

FetchContent_Declare(
    ${NLOHMANN_JSON_PROJECT}
    URL "${GITHUB_BASEURL}/nlohmann/json/releases/download/v3.11.2/json.tar.xz"
    URL_MD5 "127794b2c82c0c5693805feaa2a703e2"
    DOWNLOAD_DIR ${NLOHMANN_JSON_DOWNLOAD_DIR}
    SOURCE_DIR ${NLOHMANN_JSON_SOURCE_DIR}
)

FetchContent_MakeAvailable(${NLOHMANN_JSON_PROJECT})

set(NLOHMANN_JSON_INCLUDE_DIR ${NLOHMANN_JSON_SOURCE_DIR}/include PARENT_SCOPE)